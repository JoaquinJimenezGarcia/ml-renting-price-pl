<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Krakow renting prediction</title>
  <link rel="stylesheet" href="style.css">
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body class="full-screen flex-center">
  <div class="container">
    <div class="h-100 d-flex align-items-center justify-content-center">
      <h1 class="text-xl">Krakow renting prediction</h1>
      <div class="alert alert-success" role="alert">
        <h4 class="alert-heading">We use real data!</h4>
        <p>
          The dataset contains apartment sales and rent offers from the 15 largest cities in Poland (Warsaw, Lodz, Krakow, Wroclaw, Poznan, Gdansk, Szczecin, Bydgoszcz, Lublin, Katowice, Bialystok, Czestochowa). The data comes from local websites with apartments for sale. To fully capture the neighborhood of each apartment better, each offer was extended by data from the Open Street Map with distances to points of interest (POI). The data is collected monthly and covers a timespan between August 2023 and March 2024
        </p>
        <hr>
        <p class="mb-0">https://www.kaggle.com/datasets/krzysztofjamroz/apartment-prices-in-poland/data</p>
      </div>
      <form>
        <div class="form-group">
          <label for="square_meters">Square Meters</label>
          <input type="number" class="form-control" name="square_meters" id="square_meters" aria-describedby="emailHelp"
            placeholder="40m2">
        </div>
        <div class="form-group">
          <label for="rooms">Number of Rooms</label>
          <input type="number" class="form-control" name="rooms" id="rooms" aria-describedby="emailHelp"
            placeholder="3">
        </div>
        <div class="form-group">
          <label for="center_distance">Distance to City Center</label>
          <input type="number" class="form-control" name="center_distance" id="center_distance"
            aria-describedby="emailHelp" placeholder="3 km">
        </div>
        <button type="button" class="btn btn-primary" onclick="updateURL()">Get Prediction</button>
      </form>
      <h3>{{ context.model_answer }}</h3>
    </div>
  </div>
  <script>
    function updateURL() {
      var n1Value = document.getElementById("square_meters").value;
      var n2Value = document.getElementById("rooms").value;
      var n3Value = document.getElementById("center_distance").value;

      var urlParams = new URLSearchParams(window.location.search);
      urlParams.set('square_meters', n1Value);
      urlParams.set('rooms', n2Value);
      urlParams.set('center_distance', n3Value);

      if(n1Value == "" || n2Value == "" || n3Value == ""){
        alert("Missing data. Please, fill all the fields");
      } else {
        var newUrl = window.location.origin + window.location.pathname + '?' + urlParams.toString();
        window.location.href = newUrl;
      }
    }
  </script>
</body>

</html>